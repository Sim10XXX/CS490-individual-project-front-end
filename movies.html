<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="movies.html">Movies</a></li>
        <li><a href="customers.html">Customers</a></li>
        <li><a href="report.html">Report</a></li>
      </ul> 
<br>


<form>
    Search movies by title or actor name: <input type="text" name = "search" id = "search" onkeyup="request(6, search.value)">
</form>

<form>
    Select genre:
    <select id="genre" onchange="request(6, search.value);">
        <option value = "Any" hidden disabled selected value> -- select an option -- </option>
        <option value="Any">Any</option>
        <option value="Action">Action</option>
        <option value="Animation">Animation</option>
        <option value="Children">Children</option>
        <option value="Classics">Classics</option>
        <option value="Comedy">Comedy</option>
        <option value="Documentary">Documentary</option>
        <option value="Drama">Drama</option>
        <option value="Family">Family</option>
        <option value="Foreign">Foreign</option>
        <option value="Games">Games</option>
        <option value="Horror">Horror</option>
        <option value="Music">Music</option>
        <option value="New">New</option>
        <option value="Sci-Fi">Sci-Fi</option>
        <option value="Sports">Sports</option>
        <option value="Travel">Travel</option>
    </select>
  </form>


<div id="subresponse">
</div>

<div id="response">
</div>



<script>
    function request(id, val) {
        var xmlhttp = new XMLHttpRequest();
        xmlhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                document.getElementById("response").innerHTML = this.responseText;
            }
        };
        var g = document.getElementById("genre").value;
        xmlhttp.open("GET", "request.php?q="+id+"&v="+val+"&g="+g, true); // this has g
        xmlhttp.send();
    }
    function subrequest(id, val) {
        var xmlhttp = new XMLHttpRequest();
        xmlhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                document.getElementById("subresponse").innerHTML = this.responseText;
            }
        };
        xmlhttp.open("GET", "request.php?q="+id+"&v="+val, true);
        xmlhttp.send();
    }
</script>
</body>
</html> 